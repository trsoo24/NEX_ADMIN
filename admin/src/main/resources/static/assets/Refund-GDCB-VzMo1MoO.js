import{U as z,W as T,e as U,$ as j,a0 as F,c,d as a,w as u,a as t,H as o,F as w,g as B,o as _,R as x,Y as E,J as y,t as r,n as G}from"./index-BNrJ-Dvj.js";import{a as L}from"./axios-B4uVmeYG.js";import{m as M}from"./masking-BVJ2ul4w.js";import{V as b,a as v}from"./VField-Cziex-qH.js";import{V as I}from"./VTextField-Cyw_K3aJ.js";import"./VGrid-DeylvMMY.js";import"./index-BPvLzGhW.js";const A=z("main",{state:()=>({keyword:"",contents:[],total:"",pageSize:10,currentPage:1}),actions:{async getContents(k,d,g=1){const f="http://localhost:9999/refund/purchase-history/gdcb";try{const i=await L.get(f,{params:{dcb:k,correlationID:d,page:g,pageSize:this.pageSize}});this.contents=i.data.responsePage.content,this.total=i.data.responsePage.totalElements,this.currentPage=i.data.responsePage.number+1,this.keyword=d}catch{alert("작업 중 에러가 발생했습니다.")}}}}),H={class:"content-wrapper"},J=t("br",null,null,-1),W=t("span",null,"CorrelationID :",-1),Y=t("br",null,null,-1),q={class:"table-container"},K=t("thead",null,[t("tr",null,[t("th",null,"번호"),t("th",null,"CorrelationID"),t("th",null,"CTN"),t("th",null,"상품명"),t("th",null,"가격"),t("th",null,"구매일자"),t("th",null,"구매상태")])],-1),O={key:0},Q=t("td",{colspan:"7",style:{"text-align":"center"}},"데이터가 없습니다.",-1),X=[Q],Z={class:"pagination"},$=t("br",null,null,-1),N=t("br",null,null,-1),tt=["disabled"],et=t("b",null,"이전",-1),lt=[et],at=["onClick"],nt=["disabled"],ot=t("b",null,"다음",-1),st=[ot],vt={__name:"Refund-GDCB",setup(k){const d=A(),{keyword:g,contents:f,total:i,pageSize:V,currentPage:n}=T(d);let l=U("GDCB"),s=g;const h=j(()=>i.value?Math.ceil(i.value/V.value):0),C=p=>{if(l.value===""||l.value===null)return alert("DCB를 선택해주세요."),!1;p>=1&&p<=h.value&&d.getContents(l.value,s.value,p)},R=()=>{n.value>1&&C(n.value-1)},S=()=>{n.value<h.value&&C(n.value+1)},D=()=>{if(l.value===""||l.value===null)return alert("DCB를 선택해주세요."),!1;s.value.trim().length===0&&(s.value=""),d.getContents(l.value,s.value,n.value)};return F(()=>{D(l.value,s.value,n.value)}),(p,m)=>(_(),c("div",H,[J,a(b,{align:"center",justify:"end"},{default:u(()=>[a(v,{cols:"auto"},{default:u(()=>[a(I,{class:"min-width-select",label:"DCB",modelValue:o(l),"onUpdate:modelValue":m[0]||(m[0]=e=>x(l)?l.value=e:l=e),variant:"outlined",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),a(b,{align:"center",justify:"end"},{default:u(()=>[a(v,{cols:"auto"},{default:u(()=>[W]),_:1}),a(v,{cols:"auto"},{default:u(()=>[a(I,{class:"min-width-input",modelValue:o(s),"onUpdate:modelValue":m[1]||(m[1]=e=>x(s)?s.value=e:s=e),label:"CorrelationID",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(v,{cols:"auto"},{default:u(()=>[a(E,{variant:"elevated",onClick:D},{default:u(()=>[y(" 조회 ")]),_:1})]),_:1})]),_:1}),Y,t("div",q,[t("div",null,[t("table",null,[K,t("tbody",null,[o(f).length===0?(_(),c("tr",O,X)):(_(!0),c(w,{key:1},B(o(f),(e,P)=>(_(),c("tr",{key:e.correlationId},[t("td",null,r((o(n)-1)*o(V)+P+1),1),t("td",null,r(e.correlationId),1),t("td",null,r(o(M)(e.ctn)),1),t("td",null,r(e.name),1),t("td",null,r(e.price),1),t("td",null,r(e.regDate),1),t("td",null,r(e.status),1)]))),128))])]),t("div",Z,[$,N,a(b,{align:"center",justify:"center"},{default:u(()=>[a(v,{cols:"auto"},{default:u(()=>[t("button",{onClick:R,disabled:o(n)===1},lt,8,tt),y("   "),(_(!0),c(w,null,B(h.value,e=>(_(),c("button",{key:e,onClick:P=>C(e),class:G({active:e===o(n)})},r(e),11,at))),128)),y("   "),t("button",{onClick:S,disabled:o(n)===h.value||h.value<1},st,8,nt)]),_:1})]),_:1})])])])]))}};export{vt as default};
