import{U as k,W as w,e as U,c as v,d as s,w as r,a as e,H as _,F as B,g as N,o as p,R as D,Y as R,J as g,t as f}from"./index-Cl5wPPhe.js";import{a as C}from"./axios-B4uVmeYG.js";import{d as P}from"./dcb-DFDBfy1j.js";import{V as b,a as m}from"./VInput-BUIgaqBY.js";import{V as L}from"./VSelect-Bv22Wbij.js";import{V as y}from"./VCheckbox-CPRIYXw-.js";import"./VGrid-CcRiOlXM.js";import"./transition-D5l4heR3.js";import"./VTextField-BhZXTpsm.js";import"./VField-BlXeQDtL.js";import"./forwardRefs-DWGaNmQL.js";import"./index-C45fu6iG.js";import"./VMenu-DTZe6M0h.js";import"./createSimpleFunctional-CDvYsknp.js";import"./VAvatar-ARNVk7LF.js";import"./VImg-Ba0C5lQM.js";import"./VDivider-DJLQHtmm.js";import"./VOverlay-Cz0KYxXo.js";import"./VCheckboxBtn-CE1nV8AX.js";const Y=k("main",{state:()=>({contents:[]}),actions:{async getContents(d){const o="http://192.168.10.31:8080/scheduler-status";try{const t=await C.get(o,{params:{dcb:d}});this.contents=t.data}catch{alert("작업 중 에러가 발생했습니다.")}},async save(d,o,t,a){const h="http://192.168.10.31:8080/scheduler-status";try{await C.put(h,{dcb:d,scheduler:o,server1:t,server2:a}),alert(o+"의 기동 서버가 변경되었습니다."),this.getContents(d)}catch{alert("작업 중 에러가 발생했습니다.")}}}}),A={class:"content-wrapper"},F=e("br",null,null,-1),I=e("br",null,null,-1),M={class:"table-container"},T=e("thead",null,[e("tr",null,[e("th",null,"번호"),e("th",null,"스케줄러"),e("th",null,"Server"),e("th",null,"최근 수정자"),e("th",null,"최근 수정일")])],-1),$={key:0},j=e("td",{colspan:"5",style:{"text-align":"center"}},"데이터가 없습니다.",-1),E=[j],H={class:"server-column"},J=["onClick"],W=e("b",null,"변경",-1),q=[W],de={__name:"Process-Switching",setup(d){const o=Y(),{contents:t}=w(o);let a=U("");const h=(n,c)=>{c===1?t.value[n].server2="N":t.value[n].server1="N"},V=()=>{if(a.value===""||a.value===null)return alert("DCB를 선택해주세요."),!1;o.getContents(a.value)},S=n=>{const c=t.value[n].scheduler,l=t.value[n].server1,u=t.value[n].server2;o.save(a.value,c,l,u)};return(n,c)=>(p(),v("div",A,[F,s(b,{align:"center",justify:"end"},{default:r(()=>[s(m,{cols:"auto"},{default:r(()=>[s(L,{class:"min-width-select",clearable:"",label:"DCB",placeholder:"DCB",items:_(P),modelValue:_(a),"onUpdate:modelValue":c[0]||(c[0]=l=>D(a)?a.value=l:a=l),variant:"outlined"},null,8,["items","modelValue"])]),_:1}),s(m,{cols:"auto"},{default:r(()=>[s(R,{variant:"elevated",onClick:V},{default:r(()=>[g(" 조회 ")]),_:1})]),_:1})]),_:1}),I,e("div",M,[e("div",null,[e("table",null,[T,e("tbody",null,[_(t).length===0?(p(),v("tr",$,E)):(p(!0),v(B,{key:1},N(_(t),(l,u)=>(p(),v("tr",{key:u},[e("td",null,f(u+1),1),e("td",null,f(l.scheduler),1),e("td",H,[s(b,{align:"center"},{default:r(()=>[s(m,{cols:"auto"},{default:r(()=>[s(y,{modelValue:l.server1,"onUpdate:modelValue":i=>l.server1=i,"true-value":"Y","false-value":"N",onChange:i=>h(u,1),label:"Server 1"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),s(m,{cols:"auto"},{default:r(()=>[s(y,{modelValue:l.server2,"onUpdate:modelValue":i=>l.server2=i,"true-value":"Y","false-value":"N",onChange:i=>h(u,2),label:"Server 2"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),g("         "),s(m,{cols:"auto"},{default:r(()=>[e("button",{onClick:i=>S(u)},q,8,J)]),_:2},1024)]),_:2},1024)]),e("td",null,f(l.lastModifier),1),e("td",null,f(l.lastModifiedDate),1)]))),128))])])])])]))}};export{de as default};
