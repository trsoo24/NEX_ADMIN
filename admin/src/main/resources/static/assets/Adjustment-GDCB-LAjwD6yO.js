import{U as N,W as P,$ as A,e as g,a0 as j,c as l,d as i,w as r,a as t,F as k,g as D,J as b,H as o,o as n,R as I,D as Y,X as $,Y as E,t as a,h as d}from"./index-Cl5wPPhe.js";import{a as H}from"./axios-B4uVmeYG.js";import{V,a as f}from"./VInput-BUIgaqBY.js";import{V as J}from"./VTextField-BhZXTpsm.js";import{V as R}from"./VCardTitle-ABNO8J6R.js";import{V as T}from"./VDivider-DJLQHtmm.js";import"./VGrid-CcRiOlXM.js";import"./transition-D5l4heR3.js";import"./VField-BlXeQDtL.js";import"./forwardRefs-DWGaNmQL.js";import"./index-C45fu6iG.js";import"./createSimpleFunctional-CDvYsknp.js";const W=N("main",{state:()=>({invoiceDetailsFileContents:[],summaryFileContents:[]}),actions:{async getContents(F,C){const m="http://192.168.10.31:8080/reconciliation/gdcb/invoice";try{const p=await H.get(m,{params:{dcb:F,month:C}});this.invoiceDetailsFileContents=p.data.mapResult.invoiceDetailsFileContents,this.summaryFileContents=p.data.mapResult.summaryFileContents,console.log(invoiceDetailsFileContents),console.log(summaryFileContents)}catch{alert("작업 중 에러가 발생했습니다.")}}}}),X={class:"content-wrapper"},q=t("br",null,null,-1),z=["max"],K=t("br",null,null,-1),O=t("strong",null,"Google Invoice Details File 통계",-1),Q=t("br",null,null,-1),Z={class:"table-container"},tt={key:0},et=t("thead",null,[t("tr",null,[t("th",{colspan:"5",style:{"text-align":"center"}},"데이터가 없습니다.")])],-1),lt=[et],nt=t("th",{rowspan:"2"},"거래유형",-1),st={key:0,colspan:"4"},ot={key:1,colspan:"4"},at={key:2,colspan:"4"},ut=t("tr",null,[t("th",null,"결제 수"),t("th",null,"거래 금액"),t("th",null,"U+ 매출"),t("th",null,"수수료(%)"),t("th",null,"결제 수"),t("th",null,"거래 금액"),t("th",null,"U+ 매출"),t("th",null,"수수료(%)")],-1),it={key:0},rt={key:1},dt={key:2},ht={key:3},_t=t("td",null,null,-1),ct=t("td",null,null,-1),mt=t("td",null,null,-1),pt=t("td",null,null,-1),vt={key:4},yt={key:5},gt={key:6},ft={key:7},Ct=t("br",null,null,-1),St=t("br",null,null,-1),kt=t("br",null,null,-1),Dt=t("strong",null,"Google Summary File 통계",-1),bt={class:"table-container"},Vt=t("thead",null,[t("tr",null,[t("th",null,"아이템 구분"),t("th",null,"ItemPriceSum"),t("th",null,"TaxSum"),t("th",null,"TotalAmountSum"),t("th",null,"RevShareSum")])],-1),Ft={key:0},xt=t("td",{colspan:"5",style:{"text-align":"center"}},"데이터가 없습니다.",-1),Mt=[xt],wt=t("td",null,"계",-1),$t={__name:"Adjustment-GDCB",setup(F){const C=W(),{invoiceDetailsFileContents:m,summaryFileContents:p}=P(C),x=()=>{const h=new Date,u=h.getFullYear(),e=String(h.getMonth()).padStart(2,"0");return`${u}-${e}`},U=h=>{const u=new Date(h);u.setMonth(u.getMonth()-1);const e=u.getFullYear(),S=String(u.getMonth()+1).padStart(2,"0");return`${e}-${S}`},G=()=>{if(c.value===""||c.value==null){alert("조회할 DCB를 선택해주세요.");return}v.value=_.value,y.value=B.value,M()},M=()=>{C.getContents(c.value,_.value)},w=A(()=>m.value.reduce((h,u)=>{const e=u.parameterType;return h[e]||(h[e]=[]),h[e].push(u),h},{}));let c=g("GDCB"),_=g(x()),B=A(()=>U(_.value)),v=g(_.value),y=g(B.value);const L=g(x());return j(()=>{M(c.value,_.value)}),(h,u)=>(n(),l("div",X,[q,i(V,{align:"center",justify:"end"},{default:r(()=>[i(f,{cols:"auto"},{default:r(()=>[i(J,{class:"min-width-select",label:"DCB",modelValue:o(c),"onUpdate:modelValue":u[0]||(u[0]=e=>I(c)?c.value=e:c=e),variant:"outlined",readonly:""},null,8,["modelValue"])]),_:1}),i(f,{cols:"auto"},{default:r(()=>[Y(t("input",{type:"month","onUpdate:modelValue":u[1]||(u[1]=e=>I(_)?_.value=e:_=e),max:L.value},null,8,z),[[$,o(_)]])]),_:1}),i(f,{cols:"auto"},{default:r(()=>[i(E,{variant:"elevated",onClick:G},{default:r(()=>[b(" 조회 ")]),_:1})]),_:1})]),_:1}),K,i(V,{align:"center"},{default:r(()=>[i(f,null,{default:r(()=>[i(R,{class:"table-title"},{default:r(()=>[O]),_:1}),i(T),b(),Q]),_:1})]),_:1}),t("div",Z,[t("div",null,[w.value.length===0?(n(),l("table",tt,lt)):(n(!0),l(k,{key:1},D(w.value,(e,S)=>(n(),l("div",{key:S},[t("h3",null,a(S),1),t("table",null,[t("thead",null,[t("tr",null,[nt,o(m).length===0?(n(),l("th",st," ")):d("",!0),o(m).length!==0?(n(),l("th",ot,a(o(y)),1)):d("",!0),o(m).length!==0?(n(),l("th",at,a(o(v)),1)):d("",!0)]),ut]),t("tbody",null,[(n(!0),l(k,null,D(e,s=>(n(),l("tr",null,[t("td",null,a(s.revsCategory),1),s.tmonth===o(y).split("-")[1]?(n(),l("td",it,a(s.transactionCnt),1)):d("",!0),s.tmonth===o(y).split("-")[1]?(n(),l("td",rt,a(s.totalAmountSum),1)):d("",!0),s.tmonth===o(y).split("-")[1]?(n(),l("td",dt,a(s.revsInInvoicedCurrencySum),1)):d("",!0),s.tmonth===o(y).split("-")[1]?(n(),l("td",ht,a(s.chargeSum),1)):d("",!0),_t,ct,mt,pt,s.tmonth===o(v).split("-")[1]?(n(),l("td",vt,a(s.transactionCnt),1)):d("",!0),s.tmonth===o(v).split("-")[1]?(n(),l("td",yt,a(s.totalAmountSum),1)):d("",!0),s.tmonth===o(v).split("-")[1]?(n(),l("td",gt,a(s.revsInInvoicedCurrencySum),1)):d("",!0),s.tmonth===o(v).split("-")[1]?(n(),l("td",ft,a(s.chargeSum),1)):d("",!0)]))),256))])]),Ct]))),128))])]),St,b(),kt,i(V,{align:"center"},{default:r(()=>[i(f,null,{default:r(()=>[i(R,{class:"table-title"},{default:r(()=>[Dt]),_:1}),i(T)]),_:1})]),_:1}),t("div",bt,[t("div",null,[t("table",null,[Vt,t("tbody",null,[o(p).length===0?(n(),l("tr",Ft,Mt)):(n(!0),l(k,{key:1},D(o(p),e=>(n(),l("tr",{key:e.filename},[wt,t("td",null,a(e.itemPriceSum),1),t("td",null,a(e.taxSum),1),t("td",null,a(e.totalAmountSum),1),t("td",null,a(e.revShareSum),1)]))),128))])])])])]))}};export{$t as default};
